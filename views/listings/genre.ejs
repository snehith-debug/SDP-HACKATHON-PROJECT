<% layout("/layouts/boilerplate") %>

<div class="genre-page">
    <h1><%= genreTitle %> Events</h1>
    
    <!-- Genre Navigation -->
    <div class="genre-nav">
        <a href="/events" class="genre-link <%= !genre ? 'active' : '' %>">All Events</a>
        <a href="/events/tech" class="genre-link <%= genre === 'tech' ? 'active' : '' %>">Technology</a>
        <a href="/events/music" class="genre-link <%= genre === 'music' ? 'active' : '' %>">Music</a>
        <a href="/events/food" class="genre-link <%= genre === 'food' ? 'active' : '' %>">Food & Drinks</a>
        <a href="/events/sports" class="genre-link <%= genre === 'sports' ? 'active' : '' %>">Sports</a>
        <a href="/events/arts" class="genre-link <%= genre === 'arts' ? 'active' : '' %>">Arts & Culture</a>
        <a href="/events/business" class="genre-link <%= genre === 'business' ? 'active' : '' %>">Business</a>
    </div>
    
    <div class="event-grid">
        <% if (events.length === 0) { %>
            <p class="no-events">No events currently available.</p>
        <% } else { %>
            <% events.forEach(event => { %>
                <div class="event-card <%= event.genre === genre ? 'highlighted' : '' %>">
                    <img src="<%= event.image %>" alt="<%= event.title %>" class="event-image">
                    <div class="event-details">
                        <span class="event-genre-tag"><%= event.genre %></span>
                        <h3 class="event-title"><%= event.title %></h3>
                        <p class="event-date"><%= event.date %></p>
                        <p class="event-description"><%= event.description %></p>
                        <a href="/events/<%= event._id %>" class="btn view-event-btn">View Details</a>
                    </div>
                </div>
            <% }) %>
        <% } %>
    </div>
</div>